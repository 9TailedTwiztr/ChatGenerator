<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ao3 Chat Simulator & Exporter</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" type="image/png" href="favicon.png">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  </head>
  <body>
    <div class="container">
      <div class="input-section">
        <h1>Ao3 Chat Simulator</h1>

        <div class="storage-buttons">
          <button id="save-conversation-btn">Save Conversation</button>
          <div class="load-container">
            <button id="load-conversation-btn">Load Conversation</button>
            <select id="load-conversation-select" class="hidden"></select>
          </div>
        </div>

        <input
          type="text"
          id="chat-room-name"
          placeholder="Enter chat room name"
        />

        <div class="participants-section">
          <h2>Participants</h2>
          <div id="participants-list">
            <input
              type="text"
              class="participant-name"
              placeholder="Main Person's Name"
            />
          </div>
          <button id="add-participant">Add Another Participant</button>
        </div>

        <div class="message-input-section">
          <h2>Messages</h2>
          <div class="message-input">
            <textarea
              id="message-body"
              placeholder="Type your message..."
            ></textarea>
            <select id="sender-select"></select>
          </div>
          <button id="add-message-btn">Add Message to Timeline</button>
        </div>

        <div class="timeline-section">
          <h2>Chat Timeline</h2>
          <ul id="message-timeline"></ul>
        </div>

        <div class="ao3-options">
          <input type="checkbox" id="include-ao3-header" checked />
          <label for="include-ao3-header"
            >Include chat name as header in AO3 code</label
          >
        </div>

        <div class="generator-buttons">
          <button id="generate-screenshots-btn">Generate Screenshots</button>
          <button id="generate-ao3-btn">Generate AO3 Code</button>
        </div>

        <div id="ao3-output-section" class="hidden">
          <h2>AO3 Work Text HTML</h2>
          <textarea id="ao3-output" readonly></textarea>
          <button id="copy-ao3-html-btn">Copy HTML</button>
        </div>

        <div id="ao3-css-output-section" class="hidden">
          <h2>AO3 Workskin CSS</h2>
          <textarea id="ao3-css-output" readonly></textarea>
          <button id="copy-ao3-css-btn">Copy CSS</button>
        </div>
      </div>

      <div class="output-section">
        <div id="screenshot-container">
          <!-- Screenshots will be appended here -->
        </div>
        <div
          id="chat-generator-area"
          style="position: absolute; left: -9999px; top: 0"
        >
          <div class="screenshot">
            <div class="chat-header">
              <div class="chat-info">
                <h3 id="chat-title"></h3>
              </div>
              <div class="header-icons">
                <svg width="24" height="24" viewBox="0 0 24 24">
                  <path
                    fill="currentColor"
                    d="M6.62 10.79a15.25 15.25 0 0 0 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24c1.12.37 2.33.57 3.57.57a1 1 0 0 1 1 1V20a1 1 0 0 1-1 1A17 17 0 0 1 3 4a1 1 0 0 1 1-1h3.5a1 1 0 0 1 1 1c0 1.25.2 2.45.57 3.57c.11.35.03.74-.25 1.02l-2.2 2.2z"
                  />
                </svg>
                <svg width="24" height="24" viewBox="0 0 24 24">
                  <path
                    fill="currentColor"
                    d="M17 10.5V7a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-3.5l4 4v-11l-4 4z"
                  />
                </svg>
                <svg width="24" height="24" viewBox="0 0 24 24">
                  <path
                    fill="currentColor"
                    d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"
                  />
                </svg>
              </div>
            </div>
            <div class="chat-body"></div>
            <div class="chat-footer">
              <div class="footer-icons">
                <svg width="24" height="24" viewBox="0 0 24 24">
                  <path
                    fill="currentColor"
                    d="M12 2a10 10 0 0 0-10 10a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2zm-1.5 13.5l-3-3l1.41-1.41L10.5 12.67l4.59-4.59L16.5 9.5l-6 6z"
                  />
                </svg>
              </div>
              <div class="text-input">
                <span>Message...</span>
              </div>
              <div class="footer-icons">
                <svg width="24" height="24" viewBox="0 0 24 24">
                  <path
                    fill="currentColor"
                    d="M12 14a2 2 0 0 0 2-2V6a2 2 0 0 0-4 0v6a2 2 0 0 0 2 2zm-2-6a2 2 0 0 1 4 0v6a2 2 0 0 1-4 0V8z"
                  />
                  <path
                    fill="currentColor"
                    d="M19 11h-1.1c0 2.71-2.16 4.9-4.85 4.9S7.2 13.71 7.2 11H6a6 6 0 0 0 5.28 5.95L11 18v2h2v-2l-.28-.05A6 6 0 0 0 19 11z"
                  />
                </svg>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="script.js"></script>
  </body>
</html>
